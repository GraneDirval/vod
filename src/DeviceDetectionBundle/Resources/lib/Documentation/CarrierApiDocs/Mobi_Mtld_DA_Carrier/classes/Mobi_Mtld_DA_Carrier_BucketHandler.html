<!DOCTYPE html>
<!--

This documentation was created by Artaengine doxer PHP source documenter.
http://artaengine.com

 -->
<html>
  <head>
    <title>Mobi_Mtld_DA_Carrier_BucketHandler documentation</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="description"  content="Generated by Artaengine DocBlocks"/>
    <link rel="shortcut icon" type="image/x-icon" href="resources/images/fav.png"/>
    <link rel="stylesheet" type="text/css" href="../../resources/css/style.css"/>
    <script src="../../resources/js/jquery.js" type="text/javascript"></script>
    <script type="text/javascript">
    //<![CDATA[
        $(document).ready(function () {
            $.expr[":"].contains = $.expr.createPseudo(function (arg) {
                    return function (elem) {
                    return $(elem).text().toUpperCase().indexOf(arg.toUpperCase()) >= 0;
                };
            });

            $('#search-input').keyup(function (e) {
                var text = $(this).val();
                $('#class-index li.item').hide();
                $("#class-index li.item a:contains('"+text+"')").parent().show();

                $('#consts h3').parent().hide();
                $("#consts h3:contains('"+text+"')").parent().show();

                $('#properties h3').parent().hide();
                $("#properties h3:contains('"+text+"')").parent().show();
                $('#static-properties h3').parent().hide();
                $("#static-properties h3:contains('"+text+"')").parent().show();

                $('#methods h3').parent().hide();
                $("#methods h3:contains('"+text+"')").parent().show();
                $('#static-methods h3').parent().hide();
                $("#static-methods h3:contains('"+text+"')").parent().show();
            });

            $('h2').click(function (e) {
                var id = $(this).attr('id');
                $('#'+id.substring(0, id.length - 6)).toggle('fast');
            });
        });
    //]]>
    </script>
  </head>
  <body>

    <!-- index of class members -->
    <ul id="class-index">
  <li id="search-input-container"><input id="search-input" type="text" placeholder="Search..."/></li>
  <li id="go-back"><a href="../../index.html">Mobi_Mtld_DA_Carrier</a></li>
  <ul>
  <li id="index-consts"><a href="#consts">Consts</a></li>
  <li class="item"><a href="#const-BOOLEAN">BOOLEAN</a></li>
<li class="item"><a href="#const-BYTE">BYTE</a></li>
<li class="item"><a href="#const-DOUBLE">DOUBLE</a></li>
<li class="item"><a href="#const-FLOAT">FLOAT</a></li>
<li class="item"><a href="#const-INTEGER">INTEGER</a></li>
<li class="item"><a href="#const-LONG">LONG</a></li>
<li class="item"><a href="#const-SHORT">SHORT</a></li>
<li class="item"><a href="#const-STRING">STRING</a></li>
<li class="item"><a href="#const-UNKNOWN">UNKNOWN</a></li>
<li class="item"><a href="#const-NO_CONTAINER">NO_CONTAINER</a></li>
<li class="item"><a href="#const-NO_VALUE">NO_VALUE</a></li>
<li class="item"><a href="#const-ORDER_SET_CONTAINER">ORDER_SET_CONTAINER</a></li>

</ul>
<ul>
  <li id="index-static-methods"><a href="#static-methods">Static methods</a></li>
  <li class="item"><a href="#method-getName">getName</a></li>

</ul>
<ul>
  <li id="index-methods"><a href="#methods">Methods</a></li>
  <li class="item"><a href="#method-getPropertyNames">getPropertyNames</a></li>
<li class="item"><a href="#method-getPropertyNamesAsStrings">getPropertyNamesAsStrings</a></li>
<li class="item"><a href="#method-getTreeLefts">getTreeLefts</a></li>
<li class="item"><a href="#method-getTreeProperties">getTreeProperties</a></li>
<li class="item"><a href="#method-getTreeRights">getTreeRights</a></li>
<li class="item"><a href="#method-needsBuckets">needsBuckets</a></li>
<li class="item"><a href="#method-processBucket">processBucket</a></li>

</ul>

</ul>


    <div id="goto-top"><a href="#">TOP</a></div>

    <div id="doc">
      <h1>Mobi_Mtld_DA_Carrier_BucketHandler</h1>

      <div id="class-specs">
        <div id="class-comment">A bucket is a section of the data file. It has an ID, length and a byte array
of data. Each bucket type has a specific format. This class handles the
conversion of bucket data(binary bytes) to actual values.

The following buckets are handled:<br/>
- Property Names   - a unique list of property names. The order is the index.<br/>
- Property Values  - a unique list of property values. The order is the index.<br/>
- Properties       - collections of property name IDs to property value IDs<br/>
- IPv4 Radix Tree  - contains the data for the left/right branches of a tree
and property collection IDs<br/>

The bucket handler expects the buckets to be in the above order.</div>
        <div id="class-info">
          <dl><dt class="file">Source</dt>
<dd class="file">BucketHandler.php</dd>
<dt class="dependencies">Depends on</dt>
<dd class="dependencies">Property<br/><a href="../../Mobi_Mtld_DA_Exception/classes/Mobi_Mtld_DA_Exception_DataFileException.html">Mobi_Mtld_DA_Exception_DataFileException</a><br/><a href="../../Mobi_Mtld_DA_Carrier/classes/Mobi_Mtld_DA_Carrier_BucketType.html">Mobi_Mtld_DA_Carrier_BucketType</a><br/><a href="../../Mobi_Mtld_DA_Carrier/classes/Mobi_Mtld_DA_Carrier_ByteReader.html">Mobi_Mtld_DA_Carrier_ByteReader</a><br/><a href="../../Mobi_Mtld_DA/classes/Mobi_Mtld_DA_PropertyName.html">Mobi_Mtld_DA_PropertyName</a><br/><a href="../../Mobi_Mtld_DA/classes/Mobi_Mtld_DA_Property.html">Mobi_Mtld_DA_Property</a><br/><a href="../../Mobi_Mtld_DA_Carrier/classes/Mobi_Mtld_DA_Carrier_CarrierDataType.html">Mobi_Mtld_DA_Carrier_CarrierDataType</a><br/><a href="../../Mobi_Mtld_DA/classes/Mobi_Mtld_DA_Properties.html">Mobi_Mtld_DA_Properties</a></dd>
<dt class="extends">Extends</dt>
<dd class="extends"><a href="../../Mobi_Mtld_DA/classes/Mobi_Mtld_DA_DataType.html">Mobi_Mtld_DA_DataType</a></dd>
</dl>
        </div>
        <div id="class-atts"><dl class="class-atts"><dt class="copyright">Copyright</dt>
<dd class="copyright">Copyright (c) 2008-2015 by Afilias Technologies Limited (dotMobi). All rights reserved.</dd>
<dt class="author">Author</dt>
<dd class="author">Afilias Technologies Ltd</dd>
</dl>
</div>
      </div>

      <h2 id="consts-title">Constants</h2>
<div id="consts"><div class="const odd first" id="const-BOOLEAN">
  <h3>BOOLEAN <span>= 0</span></h3>
  <div class="const-specs">
    <p class="const-comment">Type boolean</p>
    
  </div>
</div>
<div class="const even" id="const-BYTE">
  <h3>BYTE <span>= 1</span></h3>
  <div class="const-specs">
    <p class="const-comment">Type byte</p>
    
  </div>
</div>
<div class="const odd" id="const-DOUBLE">
  <h3>DOUBLE <span>= 6</span></h3>
  <div class="const-specs">
    <p class="const-comment">Type double</p>
    
  </div>
</div>
<div class="const even" id="const-FLOAT">
  <h3>FLOAT <span>= 5</span></h3>
  <div class="const-specs">
    <p class="const-comment">Type float</p>
    
  </div>
</div>
<div class="const odd" id="const-INTEGER">
  <h3>INTEGER <span>= 3</span></h3>
  <div class="const-specs">
    <p class="const-comment">Type int</p>
    
  </div>
</div>
<div class="const even" id="const-LONG">
  <h3>LONG <span>= 4</span></h3>
  <div class="const-specs">
    <p class="const-comment">Type long int</p>
    
  </div>
</div>
<div class="const odd" id="const-SHORT">
  <h3>SHORT <span>= 2</span></h3>
  <div class="const-specs">
    <p class="const-comment">Type short int</p>
    
  </div>
</div>
<div class="const even" id="const-STRING">
  <h3>STRING <span>= 7</span></h3>
  <div class="const-specs">
    <p class="const-comment">Type string</p>
    
  </div>
</div>
<div class="const odd" id="const-UNKNOWN">
  <h3>UNKNOWN <span>= 8</span></h3>
  <div class="const-specs">
    <p class="const-comment">Unknown type</p>
    
  </div>
</div>
<div class="const even" id="const-NO_CONTAINER">
  <h3>NO_CONTAINER <span>= 0</span></h3>
  <div class="const-specs">
    <p class="const-comment">for internal api use</p>
    
  </div>
</div>
<div class="const odd" id="const-NO_VALUE">
  <h3>NO_VALUE <span>= -1</span></h3>
  <div class="const-specs">
    <p class="const-comment">for internal api use</p>
    
  </div>
</div>
<div class="const even last" id="const-ORDER_SET_CONTAINER">
  <h3>ORDER_SET_CONTAINER <span>= 1</span></h3>
  <div class="const-specs">
    <p class="const-comment">for internal api use</p>
    
  </div>
</div>
</div>


      

      

      <h2 id="static-methods-title">Static Methods</h2>
<div id="static-methods"><div class="method public static odd first last" id="method-getName">
  <h3>getName</h3>
  <div class="method-specs">

    <div><pre class="method-def compact"><span class="return-type">string </span>Mobi_Mtld_DA_Carrier_BucketHandler::getName(<span class="param-type">byte</span> <span class="param-name">dataTypeID</span>)</pre></div>

    <p class="method-comment">Get the name of a given data type.</p>

    
    <h4>Arguments</h4>
<div class="method-args">
  <ul class="items-container">
<div class="argument">
  <dl>
    <dt>
      dataTypeID
      <span>(byte)</span>
    </dt>
    <dd>
       The id to lookup the name for
    </dd>
  </dl>
</div>

</ul>

</div>


    <h4>Returns</h4>
<div class="method-return">
  <dl class="method-return"><dt class="">string</dt>
<dd class=""> The name of the data type.</dd>
</dl>

</div>


    

  </div>
</div>
</div>


      <h2 id="methods-title">Methods</h2>
<div id="methods"><div class="method public  odd first" id="method-getPropertyNames">
  <h3>getPropertyNames</h3>
  <div class="method-specs">

    <div><pre class="method-def compact"><span class="return-type">[PropertyNames] </span>$obj->getPropertyNames()</pre></div>

    <p class="method-comment">Returns the property names array</p>

    
    
    <h4>Returns</h4>
<div class="method-return">
  <dl class="method-return"><dt class="">[PropertyNames]</dt>
<dd class=""></dd>
</dl>

</div>


    

  </div>
</div>
<div class="method public  even" id="method-getPropertyNamesAsStrings">
  <h3>getPropertyNamesAsStrings</h3>
  <div class="method-specs">

    <div><pre class="method-def compact"><span class="return-type">Property </span>$obj->getPropertyNamesAsStrings()</pre></div>

    <p class="method-comment">Returns the property names array</p>

    
    
    <h4>Returns</h4>
<div class="method-return">
  <dl class="method-return"><dt class="">Property</dt>
<dd class=""> names as string</dd>
</dl>

</div>


    

  </div>
</div>
<div class="method public  odd" id="method-getTreeLefts">
  <h3>getTreeLefts</h3>
  <div class="method-specs">

    <div><pre class="method-def compact"><span class="return-type">array </span>$obj->getTreeLefts()</pre></div>

    <p class="method-comment">Returns the Radix Trie "left" pointers</p>

    
    
    <h4>Returns</h4>
<div class="method-return">
  <dl class="method-return"><dt class="">array</dt>
<dd class=""> Radix Trie "left" pointers</dd>
</dl>

</div>


    

  </div>
</div>
<div class="method public  even" id="method-getTreeProperties">
  <h3>getTreeProperties</h3>
  <div class="method-specs">

    <div><pre class="method-def compact"><span class="return-type">array </span>$obj->getTreeProperties()</pre></div>

    <p class="method-comment">Returns the properties used in the Radix Trie nodes</p>

    
    
    <h4>Returns</h4>
<div class="method-return">
  <dl class="method-return"><dt class="">array</dt>
<dd class=""> Radix Trie nodes</dd>
</dl>

</div>


    

  </div>
</div>
<div class="method public  odd" id="method-getTreeRights">
  <h3>getTreeRights</h3>
  <div class="method-specs">

    <div><pre class="method-def compact"><span class="return-type">array </span>$obj->getTreeRights()</pre></div>

    <p class="method-comment">Returns the Radix Trie "right" pointers</p>

    
    
    <h4>Returns</h4>
<div class="method-return">
  <dl class="method-return"><dt class="">array</dt>
<dd class=""> Radix Trie "right" pointers</dd>
</dl>

</div>


    

  </div>
</div>
<div class="method public  even" id="method-needsBuckets">
  <h3>needsBuckets</h3>
  <div class="method-specs">

    <div><pre class="method-def compact"><span class="return-type">bool </span>$obj->needsBuckets()</pre></div>

    <p class="method-comment">Checks if all the necessary buckets have been supplied and processed.</p>

    
    
    <h4>Returns</h4>
<div class="method-return">
  <dl class="method-return"><dt class="">bool</dt>
<dd class=""> true if all buckets complete, FALSE otherwise</dd>
</dl>

</div>


    

  </div>
</div>
<div class="method public  odd last" id="method-processBucket">
  <h3>processBucket</h3>
  <div class="method-specs">

    <div><pre class="method-def compact"><span class="return-type">void </span>$obj->processBucket(<span class="param-type">int</span> <span class="param-name">bucketId</span>, <span class="param-type">string</span> <span class="param-name">fileCrc32</span>, <span class="param-type">string</span> <span class="param-name">bucketData</span>)</pre></div>

    <p class="method-comment">Process a bucket identified by "bucketId". The bucket CRC-32 hash is
verified before parsing the bucket data.</p>

    
    <h4>Arguments</h4>
<div class="method-args">
  <ul class="items-container">
<div class="argument">
  <dl>
    <dt>
      bucketId
      <span>(int)</span>
    </dt>
    <dd>
       Bucket ID
    </dd>
  </dl>
</div>
<div class="argument">
  <dl>
    <dt>
      fileCrc32
      <span>(string)</span>
    </dt>
    <dd>
       CRC number from the file
    </dd>
  </dl>
</div>
<div class="argument">
  <dl>
    <dt>
      bucketData
      <span>(string)</span>
    </dt>
    <dd>
       Data
    </dd>
  </dl>
</div>

</ul>

</div>


    <h4>Returns</h4>
<div class="method-return">
  <dl class="method-return"><dt class="">void</dt>
<dd class=""></dd>
</dl>

</div>


    <h4>Throws</h4>
<div class="method-throws">
  <ul class="items-container">
<li><a href="../../Mobi_Mtld_DA_Exception/classes/Mobi_Mtld_DA_Exception_DataFileException.html">Mobi_Mtld_DA_Exception_DataFileException</a></li>

</ul>

</div>



  </div>
</div>
</div>


    </div>
  </body>
</html>
