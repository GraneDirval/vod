services:
    IdentificationBundle\WifiIdentification\Handler\WifiIdentificationHandlerProvider: ~

    IdentificationBundle\WifiIdentification\Service\MessageComposer: ~

    IdentificationBundle\WifiIdentification\Service\MsisdnCleaner: ~

    IdentificationBundle\WifiIdentification\Service\IdentFinisher:
        arguments:
            - '@IdentificationBundle\Identification\Service\TokenGenerator'
            - '@IdentificationBundle\User\Service\UserFactory'
            - '@IdentificationBundle\Identification\Service\Session\IdentificationDataStorage'
            - '@doctrine.orm.entity_manager'

    IdentificationBundle\WifiIdentification\WifiIdentConfirmator:
        arguments:
            - '@IdentificationBundle\WifiIdentification\Handler\WifiIdentificationHandlerProvider'
            - '@IdentificationBundle\WifiIdentification\Common\InternalSMS\PinCodeVerifier'
            - '@IdentificationBundle\Repository\CarrierRepositoryInterface'
            - '@IdentificationBundle\BillingFramework\Process\PinVerifyProcess'
            - '@IdentificationBundle\WifiIdentification\Common\RequestProvider'
            - '@IdentificationBundle\WifiIdentification\Service\MsisdnCleaner'
            - '@IdentificationBundle\WifiIdentification\Service\WifiIdentificationDataStorage'
            - '@IdentificationBundle\WifiIdentification\Service\IdentFinisher'
            - '@SubscriptionBundle\Repository\SubscriptionRepository'
            - '@IdentificationBundle\Repository\UserRepository'
            - '@IdentificationBundle\Identification\Common\PostPaidHandler'
            - '@router'

    IdentificationBundle\WifiIdentification\WifiIdentSMSSender:
        arguments:
            - '@IdentificationBundle\WifiIdentification\Handler\WifiIdentificationHandlerProvider'
            - '@IdentificationBundle\Repository\CarrierRepositoryInterface'
            - '@IdentificationBundle\BillingFramework\Process\PinRequestProcess'
            - '@IdentificationBundle\WifiIdentification\Service\MessageComposer'
            - '@IdentificationBundle\WifiIdentification\Service\MsisdnCleaner'
            - '@IdentificationBundle\WifiIdentification\Common\InternalSMS\PinCodeSaver'
            - '@IdentificationBundle\WifiIdentification\Common\RequestProvider'
            - '@IdentificationBundle\WifiIdentification\Service\WifiIdentificationDataStorage'
            - '@IdentificationBundle\Repository\UserRepository'
            - '@IdentificationBundle\BillingFramework\Process\PinResendProcess'

    IdentificationBundle\WifiIdentification\Common\InternalSMS\PinCodeVerifier:
        arguments:
            - '@IdentificationBundle\Repository\PinCodeRepository'
            - '@doctrine.orm.entity_manager'

    IdentificationBundle\WifiIdentification\Common\InternalSMS\PinCodeSaver:
        arguments:
            - '@doctrine.orm.entity_manager'

    IdentificationBundle\WifiIdentification\Common\RequestProvider:
        arguments:
            - '@SubscriptionBundle\BillingFramework\BillingOptionsProvider'

    IdentificationBundle\WifiIdentification\PinVerification\ErrorCodeResolver:
        arguments:
            - '@IdentificationBundle\Identification\Service\TranslatorInterface'
            - '@ExtrasBundle\Utils\LocalExtractor'
            - '@IdentificationBundle\WifiIdentification\PinVerification\ErrorCodeMappers\ErrorCodeMapperProvider'

    IdentificationBundle\WifiIdentification\PinVerification\ErrorCodeMappers\ErrorCodeMapperProvider: ~


    IdentificationBundle\WifiIdentification\Service\WifiIdentificationDataStorage:
      arguments:
        - '@IdentificationBundle\Identification\Service\Session\SessionStorage'

    IdentificationBundle\WifiIdentification\WifiPhoneOptionsProvider:
        arguments: ['@IdentificationBundle\WifiIdentification\Handler\WifiIdentificationHandlerProvider', '@IdentificationBundle\Repository\CarrierRepositoryInterface']



    IdentificationBundle\WifiIdentification\Controller\PinIdentificationController:
        tags: ['controller.service_arguments']
        arguments:
            - '@IdentificationBundle\WifiIdentification\WifiIdentSMSSender'
            - '@IdentificationBundle\WifiIdentification\WifiIdentConfirmator'
            - '@IdentificationBundle\WifiIdentification\PinVerification\ErrorCodeResolver'
            - '@SubscriptionBundle\CAPTool\Subscription\SubscriptionLimiter'
            - '%default_redirect_url%'
            - '@IdentificationBundle\Repository\CarrierRepositoryInterface'
            - '@SubscriptionBundle\CAPTool\Subscription\SubscriptionLimitNotifier'
            - '@SubscriptionBundle\Subscription\Subscribe\Service\BlacklistVoter'
            - '@SubscriptionBundle\Blacklist\BlacklistAttemptRegistrator'
            - '@IdentificationBundle\WifiIdentification\WifiPhoneOptionsProvider'