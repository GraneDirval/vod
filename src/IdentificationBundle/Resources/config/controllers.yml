services:
    _defaults:
        tags: ['controller.service_arguments']

    IdentificationBundle\Identification\Controller\PixelIdentController:
        arguments:
            - '@IdentificationBundle\Identification\Common\Pixel\PixelIdentVerifier'
            - '@IdentificationBundle\Identification\Common\Pixel\PixelIdentConfirmer'
            - '@IdentificationBundle\Identification\Service\RouteProvider'
            - '@IdentificationBundle\BillingFramework\Data\DataProvider'
            - '@IdentificationBundle\Identification\Service\Session\IdentificationDataStorage'
            - '@logger'

    IdentificationBundle\Callback\Controller\CallbackController:
        arguments:
            - '@IdentificationBundle\Callback\IdentCallbackProcessor'

    IdentificationBundle\Identification\Controller\IdentificationController:
        arguments:
            - '@IdentificationBundle\Identification\Identifier'
            - '@IdentificationBundle\Identification\Service\TokenGenerator'
            - '@IdentificationBundle\Identification\IdentifierByUrl'
            - '@IdentificationBundle\Identification\Service\RouteProvider'
            - '@IdentificationBundle\Identification\Service\Session\IdentificationDataStorage'
            - '@logger'

    IdentificationBundle\Identification\Controller\FakeIdentificationController:
        arguments:
            - '@CountryCarrierDetectionBundle\Service\MaxMindIpInfo'
            - '@IdentificationBundle\Repository\CarrierRepositoryInterface'
            - '@IdentificationBundle\Repository\UserRepository'
            - '@IdentificationBundle\Identification\Service\ISPResolver'
            - '@IdentificationBundle\Identification\Identifier'
            - '@IdentificationBundle\Identification\Service\TokenGenerator'
            - '@IdentificationBundle\Identification\Service\UserFactory'
            - '@doctrine.orm.entity_manager'
            - '@IdentificationBundle\Identification\Service\RouteProvider'
            - '@IdentificationBundle\Identification\Service\Session\IdentificationDataStorage'

    IdentificationBundle\WifiIdentification\Controller\PinIdentificationController:
      arguments:
        - '@IdentificationBundle\WifiIdentification\WifiIdentSMSSender'
        - '@IdentificationBundle\WifiIdentification\WifiIdentConfirmator'
        - '@IdentificationBundle\WifiIdentification\PinVerification\ErrorCodeResolver'
        - '@SubscriptionBundle\Service\CAPTool\SubscriptionLimiter'
        - '%default_redirect_url%'
        - '@IdentificationBundle\Repository\CarrierRepositoryInterface'
        - '@App\Domain\Repository\CountryRepository'
        - '@SubscriptionBundle\Service\CAPTool\SubscriptionLimitNotifier'
        - '@SubscriptionBundle\Service\Action\Subscribe\Common\BlacklistVoter'
        - '@SubscriptionBundle\Service\Blacklist\BlacklistAttemptRegistrator'
        - '@IdentificationBundle\WifiIdentification\WifiPhoneOptionsProvider'
        - '@logger'
        - '@SubscriptionBundle\Service\CampaignExtractor'
        - '@SubscriptionBundle\Service\ZeroCreditSubscriptionChecking'

    IdentificationBundle\Identification\Controller\AsyncIdentController:
      arguments:
          - '@IdentificationBundle\Identification\Service\RouteProvider'
          - '@IdentificationBundle\Identification\Common\Async\AsyncIdentFinisher'
          - '@IdentificationBundle\Identification\Common\Async\AsyncIdentStatusProvider'

    IdentificationBundle\Admin\Controller\TestUserAdminController:
        arguments:
            - '@IdentificationBundle\Repository\UserRepository'
            - '@IdentificationBundle\Repository\TestUserRepository'
            - '@SubscriptionBundle\Repository\SubscriptionRepository'
            - '@doctrine.orm.entity_manager'
            - '@cross_subscription.api_connector'
        calls:
            - [setContainer, ['@service_container']]
        tags:
            - { name: controller.service_arguments }
