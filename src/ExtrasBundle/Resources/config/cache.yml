services:
    app.cache.default:
        class: ExtrasBundle\Cache\CacheServiceWrapper
        arguments: ['@app.cache.default.translation']

    app.cache.default_factory:
        class: ExtrasBundle\Cache\CacheFactoryWrapper
        arguments: ['@app.cache.redis_factory']

    app.cache.default.translation:
        class: ExtrasBundle\Cache\Redis\RedisCacheService
        factory: [ '@app.cache.default_factory', 'createTranslationCacheService']

    app.cache.default.subscription:
        class: ExtrasBundle\Cache\Redis\RedisCacheService
        factory: [ '@app.cache.default_factory', 'createUserSubscriptionCacheService']

    app.cache.redis_factory:
        class: ExtrasBundle\Cache\Redis\RedisCacheServiceFactory
        arguments: ['@app.cache.redis_connection_provider','v%app_version_hash%', '@logger']

    app.cache.redis_connection_provider:
        class: ExtrasBundle\Cache\Redis\RedisConnectionProvider
        arguments:
            - "%redis_host%"
            - "%redis_port%"
            - "v%app_version_hash%"
            - '@logger'