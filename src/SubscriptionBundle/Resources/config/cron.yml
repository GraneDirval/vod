services:

  SubscriptionBundle\Command\MassRenewCommand:
    arguments:
      - '@IdentificationBundle\Repository\CarrierRepositoryInterface'
      - '@cron.task'
      - '@SubscriptionBundle\Service\Action\Renew\Handler\RenewHandlerProvider'
      - '@SubscriptionBundle\Service\Action\Renew\Common\CommonFlowHandler'
    tags:
      - { name: console.command }


  #subscription.commands.general_renew:
  #  class: SubscriptionBundle\Command\GeneralRenewCommand
  #  arguments: ['@subscription.cron_running_history.repository', '@doctrine.orm.entity_manager']
  #  tags:
  #    - { name: console.command }

  #subscription.commands.renew:
  #  class: SubscriptionBundle\Command\RenewCommand
  #  arguments:
  #    - '@doctrine.orm.entity_manager'
  #    - '@logger'
  #    - '@SubscriptionBundle\Repository\SubscriptionRepository'
  #    - '@enqueue.client.producer'
  #  tags:
  #    - { name: console.command }

  #SubscriptionBundle\Command\RenewTrialSubscriptionCommand:
  #  tags:
  #    - { name: console.command }
  #  arguments: ['@cron.trial_renew_service', '@cron.task', '@doctrine.orm.entity_manager']

  #cron.trial_renew_service:
  #    class: SubscriptionBundle\Service\Cron\TrialRenewer
  #    arguments:
  #      - '@SubscriptionBundle\Service\SubscriptionPackProvider'
  #      - '@SubscriptionBundle\Service\Action\Renew\Renewer'
  #      - '@SubscriptionBundle\Service\SubscriptionExtractor'

  cron.task:
      class: SubscriptionBundle\Service\Cron\CronTaskStatus
      arguments: ['@doctrine.orm.default_entity_manager', '@SubscriptionBundle\Repository\CronTaskRepository']
