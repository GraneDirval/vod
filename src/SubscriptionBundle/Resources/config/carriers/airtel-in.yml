services:

  handler.billing_callback_airtel:
      class: SubscriptionBundle\Carriers\AirtelIN\Callback\AirtelSubscribeHandler
      arguments: ["@subscription.airtel_subscriber"]
      public: false
      tags:
        - { name: subscription.callback_carrier_handler, type: subscribe }

  subscription.airtel_subscriber:
      class: SubscriptionBundle\Carriers\AirtelIN\Callback\AirtelSubscriber
      arguments:
        - "@subscription.subscription.service"
        - "@affiliate.affiliate.service"
        - "@subscription.piwic_statistic_sender"
        - '@app.carriers.repository'
        - '@user.billable_user.repository'
        - '@subscription.subscription.repository'
        - '@subscription.subscription_pack_provider'
        - '@subscription.billing_framework_link_creator'
        - '@affiliate.user_info_mapper'
        - '@subscription.billing_framework_process_response_mapper'
        - '@subscription.entity_save_helper'


  handler.subscribe_back.airtel:
      class: SubscriptionBundle\Carriers\AirtelIN\SubscribeBack\AirtelHandler
      arguments: ["@subscription.airtel.service", "@identification.service", '@router']

  subscription.airtel.service:
      class: SubscriptionBundle\Carriers\AirtelIN\SubscribeBack\AirtelBackSubscriber
      arguments:
        - '@subscription.subscription.service'
        - '@affiliate.affiliate.service'
        - '@subscription.piwic_statistic_sender'
        - '@app.carriers.repository'
        - '@user.billable_user.repository'
        - '@subscription.subscription.repository'
        - '@subscription.subscription_pack_provider'
        - '@subscription.billing_framework_link_creator'
        - '@affiliate.user_info_mapper'
        - '@subscription.entity_save_helper'
        - '@subscription.billing_framework_process_response_mapper'
