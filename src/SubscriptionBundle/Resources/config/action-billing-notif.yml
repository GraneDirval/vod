services:
  SubscriptionBundle\Service\Notification\Impl\NotificationHandlerProvider:
      arguments: ['@SubscriptionBundle\Service\Notification\Impl\DefaultHandler']

  SubscriptionBundle\Service\Notification\Impl\DefaultHandler: ~

  SubscriptionBundle\Service\Notification\Notifier:
      arguments:
        - '@SubscriptionBundle\Service\Notification\Common\MessageCompiler'
        - '@SubscriptionBundle\BillingFramework\Notification\API\RequestSender'
        - '@monolog.logger'
        - '@SubscriptionBundle\Service\Notification\Common\ProcessIdExtractor'
        - '@router'
        - '@SubscriptionBundle\Service\Notification\Impl\NotificationHandlerProvider'

  SubscriptionBundle\Service\Notification\Common\MessageCompiler:
        arguments:
          - '@logger'
          - '@SubscriptionBundle\BillingFramework\Notification\API\MessageCreator'
          - '@SubscriptionBundle\Service\Notification\Common\SMSTextProvider'

  SubscriptionBundle\Service\Notification\Common\ProcessIdExtractor: ~

  SubscriptionBundle\Service\Notification\Common\SMSTextProvider:
          arguments: ['%sms.notification.messages%', '@IdentificationBundle\Repository\CarrierRepositoryInterface']
