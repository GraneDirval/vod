services:
  SubscriptionBundle\Service\Notification\Impl\NotificationHandlerProvider:
      arguments: ['@SubscriptionBundle\Service\Notification\Impl\DefaultHandler']

  SubscriptionBundle\Service\Notification\Impl\DefaultHandler: ~

  SubscriptionBundle\Service\Notification\Notifier:
      arguments:
        - '@SubscriptionBundle\Service\Notification\Common\MessageCompiler'
        - '@SubscriptionBundle\BillingFramework\Notification\API\RequestSender'
        - '@monolog.logger.subscription_log'
        - '@SubscriptionBundle\Service\Notification\Common\ProcessIdExtractor'
        - '@user_bundle.users_service'
        - '@router'
        - '@SubscriptionBundle\Service\Notification\Impl\NotificationHandlerProvider'

  SubscriptionBundle\Service\Notification\Common\MessageCompiler:
        arguments:
          - '@logger'
          - '@SubscriptionBundle\BillingFramework\Notification\API\MessageCreator'
          - '@SubscriptionBundle\Service\Notification\Common\SMSTextProvider'

  SubscriptionBundle\Service\Notification\Common\ProcessIdExtractor:
      arguments: ['@identification.identification_request_repository']

  SubscriptionBundle\Service\Notification\Common\SMSTextProvider:
          arguments: ['%sms.notification.messages%', '@app.carriers']
