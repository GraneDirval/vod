services:
  SubscriptionBundle\Subscription\MassRenew\MassRenewer:
    arguments:
      - '@SubscriptionBundle\BillingFramework\Process\MassRenewProcess'
      - '@SubscriptionBundle\Subscription\MassRenew\MassRenewParametersProvider'
      - '@SubscriptionBundle\Subscription\Renew\OnRenewUpdater'
      - '@SubscriptionBundle\Service\EntitySaveHelper'

  SubscriptionBundle\Subscription\MassRenew\MassRenewParametersProvider:
    arguments:
      - '@SubscriptionBundle\Subscription\Common\RouteProvider'
      - '@SubscriptionBundle\SubscriptionPack\SubscriptionPackProvider'
      - '@SubscriptionBundle\BillingFramework\BillingOptionsProvider'

  SubscriptionBundle\Subscription\Renew\Common\CommonFlowHandler:
    arguments:
      - '@SubscriptionBundle\Subscription\MassRenew\MassRenewer'
      - '@SubscriptionBundle\Repository\SubscriptionRepository'
      - '@SubscriptionBundle\Subscription\Renew\Handler\RenewHandlerProvider'
      - '@doctrine.orm.entity_manager'

  SubscriptionBundle\Subscription\MassRenew\Command\MassRenewCommand:
    arguments:
      - '@IdentificationBundle\Repository\CarrierRepositoryInterface'
      - '@cron.task'
      - '@SubscriptionBundle\Subscription\Renew\Handler\RenewHandlerProvider'
      - '@SubscriptionBundle\Subscription\Renew\Common\CommonFlowHandler'
    tags:
      - { name: console.command }