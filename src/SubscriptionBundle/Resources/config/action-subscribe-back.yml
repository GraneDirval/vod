services:
    SubscriptionBundle\Subscription\SubscribeBack\Controller\SubscribeBackAction:
        arguments:
            - '@SubscriptionBundle\Subscription\SubscribeBack\Handler\SubscribeBackHandlerProvider'
            - '@App\Domain\Repository\CarrierRepository'
            - '@SubscriptionBundle\Subscription\SubscribeBack\Common\CommonFlowHandler'
            - '@IdentificationBundle\Identification\Service\RouteProvider'
        tags: ['controller.service_arguments']

    SubscriptionBundle\Subscription\SubscribeBack\Handler\DefaultHandler: ~

    SubscriptionBundle\Subscription\SubscribeBack\Common\CommonFlowHandler:
        arguments:
            - '@SubscriptionBundle\Subscription\SubscribeBack\Subscriber'
            - '@IdentificationBundle\User\Service\UserFactory'
            - '@SubscriptionBundle\Subscription\Subscribe\Service\BlacklistVoter'
            - '@SubscriptionBundle\Blacklist\BlacklistAttemptRegistrator'
            - '@IdentificationBundle\Identification\Service\DeviceDataProvider'
            - '@IdentificationBundle\Identification\Service\Session\IdentificationDataStorage'
            - '@SubscriptionBundle\SubscriptionPack\SubscriptionPackProvider'
            - '@SubscriptionBundle\Subscription\Common\SubscriptionExtractor'
            - '@ExtrasBundle\Utils\UrlParamAppender'
            - '@IdentificationBundle\Repository\UserRepository'
            - '@IdentificationBundle\Identification\Service\TokenGenerator'
            - '@SubscriptionBundle\Affiliate\Service\CampaignExtractor'
            - '@SubscriptionBundle\Subscription\Subscribe\Common\AfterSubscriptionProcessTracker'
            - '@IdentificationBundle\Identification\Service\RouteProvider'
            - '@SubscriptionBundle\Subscription\Common\ProcessResultSuccessChecker'
            - '@cross_subscription.api_connector'
            - '@logger'

    SubscriptionBundle\Subscription\SubscribeBack\Handler\SubscribeBackHandlerProvider:
        arguments:
            - '@SubscriptionBundle\Subscription\SubscribeBack\Handler\DefaultHandler'

    SubscriptionBundle\Subscription\SubscribeBack\Subscriber:
        arguments:
            - '@SubscriptionBundle\Service\EntitySaveHelper'
            - '@SubscriptionBundle\Subscription\Common\SubscriptionFactory'
            - '@SubscriptionBundle\Subscription\Subscribe\OnSubscribeUpdater'
            - '@IdentificationBundle\BillingFramework\Data\DataProvider'