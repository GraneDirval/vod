services:
    SubscriptionBundle\Controller\Actions\SubscribeAction:
        tags: ['controller.service_arguments']
        arguments:
            - '@SubscriptionBundle\Service\UserExtractor'
            - '@SubscriptionBundle\Service\Action\Subscribe\Common\CommonFlowHandler'
            - '@router.default'
            - '@logger'
            - '@ExtrasBundle\Utils\UrlParamAppender'
            - '@SubscriptionBundle\Service\Action\Subscribe\Handler\SubscriptionHandlerProvider'
            - '@SubscriptionBundle\Service\Action\Subscribe\Common\BlacklistVoter'
            - '@IdentificationBundle\Identification\Service\IdentificationDataStorage'
            - '@IdentificationBundle\Identification\Handler\IdentificationHandlerProvider'
            - '@IdentificationBundle\Repository\CarrierRepositoryInterface'

    SubscriptionBundle\Controller\Actions\ListenAction:
        arguments: ['@SubscriptionBundle\Service\Callback\Common\CommonFlowHandler', '@logger', '@SubscriptionBundle\Service\Callback\Impl\CarrierCallbackHandlerProvider']

    SubscriptionBundle\Controller\Actions\SubscribeBackAction:
        arguments: ['@SubscriptionBundle\Service\Action\SubscribeBack\SubscribeBackHandlerProvider', '@router']

    SubscriptionBundle\Controller\Actions\RedirectAction:
        arguments: ['@SubscriptionBundle\Service\UserExtractor', '@monolog.logger', '@SubscriptionBundle\Service\SubscriptionExtractor']

    SubscriptionBundle\Controller\Actions\UnsubscribeAction:
        tags: ['controller.service_arguments']
        arguments:
            - '@SubscriptionBundle\Service\UserExtractor'
            - '@SubscriptionBundle\Service\SubscriptionExtractor'
            - '@SubscriptionBundle\Service\SubscriptionPackProvider'
            - '@SubscriptionBundle\Service\Action\Unsubscribe\Unsubscriber'
            - '@SubscriptionBundle\Service\Action\Unsubscribe\UnsubscriptionEligibilityChecker'
            - '@SubscriptionBundle\Service\Action\Unsubscribe\Handler\UnsubscriptionHandlerProvider'

    SubscriptionBundle\Controller\Actions\WaitAction:
        class: SubscriptionBundle\Controller\Actions\WaitAction
        arguments: ['@SubscriptionBundle\Service\UserExtractor', '@SubscriptionBundle\Service\SubscriptionExtractor', '@router.default']

    SubscriptionBundle\Controller\Actions\GetSubscriptionAction:
        class: SubscriptionBundle\Controller\Actions\GetSubscriptionAction
        arguments: ['@SubscriptionBundle\Service\UserExtractor', '@SubscriptionBundle\Service\SubscriptionExtractor']

    SubscriptionBundle\Controller\Actions\Fake\SubscribeAction:
        tags: ['controller.service_arguments']
        arguments:
            - '@SubscriptionBundle\Service\UserExtractor'
            - '@router.default'
            - '@logger'
            - '@SubscriptionBundle\Service\SubscriptionExtractor'
            - '@SubscriptionBundle\Service\SubscriptionPackProvider'
            - '@SubscriptionBundle\Service\EntitySaveHelper'

    SubscriptionBundle\Controller\Actions\Fake\UnsubscribeAction:
        tags: ['controller.service_arguments']
        arguments:
            - '@SubscriptionBundle\Service\UserExtractor'
            - '@SubscriptionBundle\Service\SubscriptionExtractor'
            - '@SubscriptionBundle\Service\Action\Unsubscribe\UnsubscriptionEligibilityChecker'
            - '@SubscriptionBundle\Service\EntitySaveHelper'

    SubscriptionBundle\Controller\Actions\ConsentPageSubscribeAction:
        tags: ['controller.service_arguments']
        arguments:
            - '@IdentificationBundle\Repository\CarrierRepositoryInterface'
            - '@IdentificationBundle\Identification\Handler\IdentificationHandlerProvider'
            - '@SubscriptionBundle\Service\Action\Subscribe\Handler\SubscriptionHandlerProvider'
            - '@IdentificationBundle\Identification\Service\UserFactory'

    SubscriptionBundle\Admin\Controller\SubscriptionPackAdminController:
        calls: [['setContainer', ['@service_container']]]

    SubscriptionBundle\Admin\Controller\RefundAdminController:
        tags: ['controller.service_arguments']
        arguments: ['@form.factory', '@SubscriptionBundle\Service\RefundService']

    SubscriptionBundle\Admin\Controller\UnsubscriptionAdminController:
        tags: ['controller.service_arguments']
        arguments:
            - '@form.factory'
            - '@SubscriptionBundle\Service\Action\Unsubscribe\Unsubscriber'
            - '@SubscriptionBundle\Service\Action\Unsubscribe\Handler\UnsubscriptionHandlerProvider'