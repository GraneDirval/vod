services:

    _defaults:
        tags: ['controller.service_arguments']


    SubscriptionBundle\Subscription\Subscribe\Controller\SubscribeAction:
        arguments:
            - '@IdentificationBundle\Identification\Service\UserExtractor'
            - '@SubscriptionBundle\Subscription\Subscribe\Common\CommonFlowHandler'
            - '@SubscriptionBundle\Subscription\Subscribe\Handler\SubscriptionHandlerProvider'
            - '@SubscriptionBundle\Subscription\Subscribe\Service\BlacklistVoter'
            - '@IdentificationBundle\Identification\Handler\IdentificationHandlerProvider'
            - '@IdentificationBundle\Repository\CarrierRepositoryInterface'
            - '@IdentificationBundle\Identification\Common\PostPaidHandler'
            - '@SubscriptionBundle\CampaignConfirmation\Handler\CampaignConfirmationHandlerProvider'
            - '@SubscriptionBundle\CAPTool\Subscription\SubscriptionLimiter'
            - '@SubscriptionBundle\Blacklist\BlacklistAttemptRegistrator'
            - '@SubscriptionBundle\Subscription\Subscribe\Voter\BatchSubscriptionVoter'
            - '@IdentificationBundle\Identification\Service\RouteProvider'
            - '@SubscriptionBundle\Subscription\Common\RouteProvider'

    SubscriptionBundle\Subscription\Callback\Controller\ListenAction:
        arguments: ['@SubscriptionBundle\Subscription\Callback\Common\CommonFlowHandler', '@logger', '@SubscriptionBundle\Subscription\Callback\Impl\CarrierCallbackHandlerProvider']

    #SubscriptionBundle\Subscription\SubscribeBack\Controller\SubscribeBackAction:
    #    arguments: ['@SubscriptionBundle\Subscription\SubscribeBack\SubscribeBackHandlerProvider', '@router']


    SubscriptionBundle\Subscription\Unsubscribe\Controller\UnsubscribeAction:
        arguments:
            - '@IdentificationBundle\Identification\Service\UserExtractor'
            - '@SubscriptionBundle\Subscription\Common\SubscriptionExtractor'
            - '@SubscriptionBundle\SubscriptionPack\SubscriptionPackProvider'
            - '@SubscriptionBundle\Subscription\Unsubscribe\Unsubscriber'
            - '@SubscriptionBundle\Subscription\Unsubscribe\UnsubscriptionEligibilityChecker'
            - '@SubscriptionBundle\Subscription\Unsubscribe\Handler\UnsubscriptionHandlerProvider'
            - '@cross_subscription.api_connector'


    SubscriptionBundle\Controller\Actions\Fake\RenewAction:
        arguments:
            - '@SubscriptionBundle\Subscription\MassRenew\Command\MassRenewCommand'
            - '@twig'

    SubscriptionBundle\Controller\Actions\Fake\AlertAction:
        arguments:
            - '@SubscriptionBundle\Subscription\Renew\Command\IncomingRenewNotificationCommand'
            - '@twig'

    SubscriptionBundle\Controller\Actions\Fake\SubscribeAction:
        arguments:
            - '@IdentificationBundle\Identification\Service\UserExtractor'
            - '@router.default'
            - '@logger'
            - '@SubscriptionBundle\Subscription\Common\SubscriptionExtractor'
            - '@SubscriptionBundle\SubscriptionPack\SubscriptionPackProvider'
            - '@SubscriptionBundle\Service\EntitySaveHelper'
            - '@IdentificationBundle\Identification\Service\RouteProvider'

    SubscriptionBundle\Controller\Actions\Fake\UnsubscribeAction:
        arguments:
            - '@IdentificationBundle\Identification\Service\UserExtractor'
            - '@SubscriptionBundle\Subscription\Common\SubscriptionExtractor'
            - '@SubscriptionBundle\Subscription\Unsubscribe\UnsubscriptionEligibilityChecker'
            - '@SubscriptionBundle\Service\EntitySaveHelper'

    SubscriptionBundle\Subscription\Subscribe\Controller\ConsentPageSubscribeAction:
        arguments:
            - '@IdentificationBundle\Repository\CarrierRepositoryInterface'
            - '@IdentificationBundle\Identification\Handler\IdentificationHandlerProvider'
            - '@SubscriptionBundle\Subscription\Subscribe\Handler\SubscriptionHandlerProvider'
            - '@IdentificationBundle\Identification\Service\UserExtractor'
            - '@SubscriptionBundle\Subscription\Subscribe\Consent\ConsentFlowHandler'
            - '@router'
            - '@SubscriptionBundle\Subscription\Subscribe\Service\BlacklistVoter'
            - '@SubscriptionBundle\Blacklist\BlacklistAttemptRegistrator'

    SubscriptionBundle\Admin\Controller\SubscriptionPackAdminController:
        calls: [['setContainer', ['@service_container']]]

    SubscriptionBundle\Admin\Controller\RefundAdminController:
        arguments: ['@form.factory', '@SubscriptionBundle\Service\RefundService']

    SubscriptionBundle\Admin\Controller\UnsubscriptionAdminController:
        arguments:
            - '@form.factory'
            - '@SubscriptionBundle\Subscription\Unsubscribe\Unsubscriber'
            - '@SubscriptionBundle\Subscription\Unsubscribe\Handler\UnsubscriptionHandlerProvider'

    SubscriptionBundle\Admin\Controller\ComplaintsAdminController:
        arguments:
            - '@form.factory'
            - '@SubscriptionBundle\Service\ReportingToolService'

    SubscriptionBundle\Controller\SubnotifController:
        arguments:
            - '@SubscriptionBundle\Subscription\Notification\Notifier'
            - '@App\Domain\Repository\CarrierRepository'
            - '@IdentificationBundle\Repository\UserRepository'
            - '@session'
            - '@ExtrasBundle\Utils\LocalExtractor'
            - '@SubscriptionBundle\SubscriptionPack\SubscriptionPackProvider'
            - '@App\Domain\Service\Translator\Translator'
            - '@IdentificationBundle\Identification\Service\IdentificationDataStorage'
            - '@router'