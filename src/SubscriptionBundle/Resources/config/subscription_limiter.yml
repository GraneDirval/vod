services:
    SubscriptionBundle\Service\SubscriptionLimiter\SubscriptionLimitCompleter:
        arguments:
            - '@SubscriptionBundle\Service\SubscriptionLimiter\SubscriptionLimiter'
            -
    SubscriptionBundle\Service\SubscriptionLimiter\SubscriptionLimiter:
        arguments:
        - '@SubscriptionBundle\Service\SubscriptionLimiter\Limiter\LimiterStorage'
        - '@SubscriptionBundle\Service\SubscriptionExtractor'
        - '@SubscriptionBundle\Service\SubscriptionLimiter\Limiter\LimiterDataMapper'
        - '@SubscriptionBundle\Service\SubscriptionLimiter\Limiter\CarrierCapChecker'
        - '@SubscriptionBundle\Service\SubscriptionLimiter\Limiter\StorageKeyGenerator'
        - '@SubscriptionBundle\Service\CampaignExtractor'


    SubscriptionBundle\Service\SubscriptionLimiter\Limiter\LimiterStorage:
        arguments:
            - '@app.predis'


    SubscriptionBundle\Service\SubscriptionLimiter\Limiter\LimiterDataMapper:
        arguments:
            - '@SubscriptionBundle\Service\CampaignExtractor'
            - '@App\Domain\Repository\CarrierRepository'

    SubscriptionBundle\Service\SubscriptionLimiter\LimiterNotifier:
        arguments:
            - '@SubscriptionBundle\Service\Notification\Email\CAPNotificationSender'
            - '@SubscriptionBundle\Service\EntitySaveHelper'

    SubscriptionBundle\Service\SubscriptionLimiter\Limiter\CarrierCapChecker:
        arguments:
            - '@SubscriptionBundle\Service\SubscriptionLimiter\Limiter\LimiterStorage'
            - '@SubscriptionBundle\Service\SubscriptionLimiter\Limiter\StorageKeyGenerator'
            - '@logger'

    SubscriptionBundle\Service\SubscriptionLimiter\Limiter\StorageKeyGenerator: ~