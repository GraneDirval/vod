services:
  subscription.unsubscriber:
      class: SubscriptionBundle\Service\Action\Unsubscribe\Unsubscriber
      arguments:
        - '@logger'
        - '@subscription.entity_save_helper'
        - '@subscription.promotional_response_mapper'
        - '@subscription.notification_facade'
        - '@subscription.process.unsubscribe'
        - '@subscription.unsubscribe.updater'
        - '@affiliate.carrier_post_send_affiliate_checker'
        - '@subscription.piwic_statistic_sender'
        - '@subscription.unsubscribe.parameters_provider'

  subscription.unsubscription_handler_provider:
      class: SubscriptionBundle\Service\Action\Unsubscribe\Handler\UnsubscriptionHandlerProvider
      arguments: ['@subscription.unsubscription_default_handler']

  subscription.unsubscription_default_handler:
      class: SubscriptionBundle\Service\Action\Unsubscribe\Handler\DefaultHandler


  subscription.unsubscribe.updater:
      class: SubscriptionBundle\Service\Action\Unsubscribe\OnUnsubscribeUpdater
      arguments: ['@event_dispatcher', '@subscription.common_subscription_updater']

  subscription.unsubscribe.parameters_provider:
      class: SubscriptionBundle\Service\Action\Unsubscribe\UnsubscribeParametersProvider
      arguments: ['@subscription.request_parameters_provider']