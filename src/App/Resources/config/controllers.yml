services:
    _defaults:
        tags: ['controller.service_arguments']

    App\API\Controller\AffiliateBannedPublishersController:
        arguments:
            - '@App\Domain\Repository\AffiliateBannedPublisherRepository'
            - '@App\Domain\Repository\AffiliateRepository'
            - '@App\Domain\Service\AffiliateBannedPublisher\AffiliateBannedPublisherCreator'
            - '@App\Domain\Service\AffiliateBannedPublisher\AffiliateBannedPublisherRemover'

    App\API\Controller\APIController:
        arguments: ['@App\Domain\Service\VideoProcessing\CallbackVoter', '@App\Domain\Service\VideoProcessing\Callback\EagerType']

    App\Admin\Controller\UploadedVideoAdminController:
        calls:
            - [setContainer, ['@service_container']]
        arguments:
            - '@form.factory'
            - '@doctrine.orm.entity_manager'
            - '@App\Domain\Service\VideoProcessing\Connectors\CloudinaryConnector'
            - '@App\Domain\Service\VideoProcessing\UploadedVideoSerializer'
            - '%cloudinary_api_key%'
            - '%cloudinary_cloud_name%'
            - '%cloudinary_api_secret%'
            - '%default_preset%'
            - '%trim_preset%'

    App\Admin\Controller\SubcategoryAdminController:
        arguments: ['@doctrine.orm.entity_manager']

    App\Admin\Controller\CampaignAdminController:
        arguments:
            - '@form.factory'

    App\Controller\ContentController:
        arguments:
        - '@CommonDataBundle\Service\TemplateConfigurator\TemplateConfigurator'
        - '@IdentificationBundle\Identification\Service\Session\IdentificationDataStorage'

    App\Controller\HomeController:
        arguments:
            - '@CommonDataBundle\Service\TemplateConfigurator\TemplateConfigurator'
            - '@App\Domain\Repository\GameRepository'
            - '@App\Piwik\ContentStatisticSender'
            - '@IdentificationBundle\Identification\Service\AlreadySubscribedIdentFinisher'
            - '@App\Domain\Service\HomepageVideoListProvider'

    App\Controller\LPController:
        arguments:
            - '@App\Piwik\ContentStatisticSender'
            - '@App\Domain\Repository\CampaignRepository'
            - '@App\Domain\ACL\LandingPageACL'
            - '@App\Domain\Service\Carrier\CarrierOTPVerifier'
            - '%default_redirect_url%'
            - '@CommonDataBundle\Service\TemplateConfigurator\TemplateConfigurator'
            - '@IdentificationBundle\WifiIdentification\Service\WifiIdentificationDataStorage'
            - '@IdentificationBundle\Repository\CarrierRepositoryInterface'
            - '@SubscriptionBundle\CAPTool\Visit\VisitTracker'
            - '@logger'
            - '@IdentificationBundle\Identification\Service\CarrierSelector'
            - '@SubscriptionBundle\Subscription\Subscribe\Service\SubscribeUrlResolver'
            - '@SubscriptionBundle\CAPTool\Visit\ConstraintAvailabilityChecker'
            - '@SubscriptionBundle\CAPTool\Common\CAPToolRedirectUrlResolver'
            - '@App\Domain\Service\OneClickFlow\OneClickFlowCarriersProvider'
            - '@App\Domain\Service\OneClickFlow\OneClickFlowResolver'
            - '@App\Domain\Service\AffiliateBannedPublisher\AffiliateBannedPublisherChecker'

    App\Controller\ErrorController:
        arguments:
            - '@IdentificationBundle\Identification\Service\CarrierSelector'

    App\Controller\CategoryController:
        arguments:
            - '@App\Domain\Repository\MainCategoryRepository'
            - '@App\Domain\Repository\UploadedVideoRepository'
            - '@App\Domain\Repository\SubcategoryRepository'
            - '@App\Piwik\ContentStatisticSender'
            - '@CommonDataBundle\Service\TemplateConfigurator\TemplateConfigurator'
            - '@App\Domain\Service\VideoProcessing\UploadedVideoSerializer'

    App\Controller\AccountController:
        arguments:
            - '@App\Domain\Repository\CarrierRepository'
            - '@SubscriptionBundle\Subscription\Common\SubscriptionExtractor'
            - '@CommonDataBundle\Service\TemplateConfigurator\TemplateConfigurator'
            - '@App\Domain\Repository\MainCategoryRepository'
            - '@App\Domain\Repository\SubcategoryRepository'
            - '@App\Domain\Repository\UploadedVideoRepository'
            - '@App\Domain\Service\VideoProcessing\UploadedVideoSerializer'

    App\Controller\ContactUsController:
        arguments:
        - '@form.factory'
        - '@IdentificationBundle\User\Service\UserExtractor'
        - '@ExtrasBundle\Email\EmailSender'
        - '@SubscriptionBundle\Subscription\Common\SubscriptionExtractor'
        - '@App\Domain\Repository\CampaignRepository'
        - '%contact_us_mail_to%'
        - '%contact_us_mail_from%'
        - '@CommonDataBundle\Service\TemplateConfigurator\TemplateConfigurator'
        - '@device_detection.service.device'
        - '@CountryCarrierDetectionBundle\Service\MaxMindIpInfo'

    App\Controller\GamesController:
        arguments:
            - '@App\Domain\Repository\GameRepository'
            - '@App\Domain\Service\Games\GameSerializer'
            - '@App\Domain\Repository\GameBuildRepository'
            - '@App\Domain\Service\Games\DrmApkProvider'
            - '@SubscriptionBundle\Subscription\Common\SubscriptionExtractor'
            - '@App\Domain\Service\Games\GameImagesSerializer'
            - '@App\Domain\Service\Games\ExcludedGamesProvider'
            - '@App\Piwik\ContentStatisticSender'
            - '@CommonDataBundle\Service\TemplateConfigurator\TemplateConfigurator'

    App\Controller\VideoController:
        arguments:
            - '@App\Domain\Repository\UploadedVideoRepository'
            - '@App\Domain\Repository\MainCategoryRepository'
            - '@App\Domain\Service\VideoProcessing\UploadedVideoSerializer'
            - '@App\Domain\Repository\UploadedVideoRepository'

    App\Controller\TrackEventController:
        arguments:
            - '@App\Domain\Repository\UploadedVideoRepository'
            - '@App\Piwik\ContentStatisticSender'
            - '@SubscriptionBundle\Subscription\Common\SubscriptionExtractor'

    App\Controller\SubnotifController:
        arguments:
            - '@SubscriptionBundle\Subscription\Notification\Notifier'
            - '@App\Domain\Repository\CarrierRepository'
            - '@IdentificationBundle\Repository\UserRepository'
            - '@session'
            - '@ExtrasBundle\Utils\LocalExtractor'
            - '@SubscriptionBundle\SubscriptionPack\SubscriptionPackProvider'
            - '@App\Domain\Service\Translator\Translator'
            - '@IdentificationBundle\WifiIdentification\Service\WifiIdentificationDataStorage'
            - '@IdentificationBundle\Identification\Service\RouteProvider'