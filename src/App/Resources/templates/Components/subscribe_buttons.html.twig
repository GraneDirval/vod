{% macro render(carriers, class) %}
    {% import "@App/Components/Buttons/link.html.twig" as  link %}
    {% import "@App/Common/Blocks/wifi_subscribe_block.html.twig" as wifi_subscribe_block %}


    {% set class = class ~ ' x-subscribe-button' %}

    {% if not hasActiveSubscription() %}
        {% if isIdentified() %}
            {{ link.render(url('subscription.subscribe'), translate('buttons.join.now'), class) }}
        {% elseif isConsentFlow() %}
            {{ link.render(url('subscription.consent_page_subscribe'), translate('buttons.join.now'), class) }}
        {% elseif isWifiFlow() %}
            {{ wifi_subscribe_block.render(carriers) }}
        {% else %}
            {#Ident && Subscribe Me#}
            {{ link.render(url('identify'), translate('buttons.join.now'), class) }}
        {% endif %}
    {% endif %}

    <script>

        $(document).on('click', '.x-subscribe-button', function (e) {
            $._loader(false);
        })

    </script>

{% endmacro %}

